/*!
  * liteAjax - v1.0 
  * https://github.com/peterprins/liteajax
  *
  * Copyright 2015 Peter Prins
  * Released under the MIT license
  * http://mit-license.org/
  *
  * Date: 2015-04-19
  */

  var $ajax=function(t,e){return{url:"",method:"",type:"",data:"",callback:"",response:"",element_id:"",json:"",updateElement:function(t,e){if("string"!=typeof e&&"object"!=typeof e||"string"!=typeof t){if(200==this.status){var n=document.getElementById(element_id);n.innerHTML=this.response}}else{var n=document.getElementById(t);try{n.innerHTML=JSON.stringify(e)}catch(i){n.innerHTML=e}}},getJSONObj:function(){if(200==this.status)try{var t=JSON.parse(this.response)}catch(n){var t=this.response}e(t)},init:function(){"object"!=typeof t&&"string"!=typeof t?(this.method="GET",this.type="application/json",this.callback=null):("object"==typeof t?this.url=t.url:"string"==typeof t&&(this.url=t),this.method=t.method?t.method:"GET",this.type="POST"==this.method?t.type?t.type:"application/x-www-form-urlencoded;charset=UTF-8":t.type?t.type:"application/json",this.data=t.data?JSON.stringify(t.data):null)},load:function(){this.init(),json=new XMLHttpRequest,json.type=this.type,document.addEventListener("DOMContentLoaded",this.send(json),!1)},send:function(t){"function"==typeof e?this.callback=this.getJSONObj:"string"==typeof e?(this.element_id=e,element_id=e,this.callback=this.updateElement):this.callback=null,null!==this.callback&&(t.addEventListener?t.addEventListener("load",this.callback,!1):t.readyState&&(t.onreadystatechange=this.callback)),t.open(this.method,this.url),"POST"==this.method&&t.setRequestHeader("Content-type",this.type),t.send(this.data)}}};